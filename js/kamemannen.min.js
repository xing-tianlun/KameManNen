function paceTimeOut() {
  setTimeout(function () {
    $(".pace").fadeOut()
  }, 3e3)
}

function paceOnDone() {
  setHeaderScroll(), setFooterMenu(), initInView(), $(".header-hum").length && initHeader(), $(".top-kv").length && (initTopKV(), $(".top-kv").addClass("is-start"), $(".top-kv-logo").addClass("is-start")), $(".item-swiper-wrap").length && (initItemSwiper(), setItemModal()), $(".item-detail-swiper-wrap").length && initItemDetailSwiper(), $(".js-about-swiper").length && initAboutSwiper(), $(".shoplist-wrap").length && setShopList(), $(".item-detail-wrap").length && setItemDetailCursor(), $(".form-element").length && initContactForm(), $(".pace").fadeOut()
}

function initTopKV() {
  if ($("body").hasClass("sp")) {
    var e = $(window).height();
    $(".top-kv-wrap").height(e + 70)
  }
  $(window).resize(function () {
    if ($("body").hasClass("sp")) {
      var e = $(window).height();
      $(".top-kv-wrap").height(e + 70)
    }
  })
}

function initHeader() {
  var e = $(".header-hum"),
    i = $(".header-hum .hum"),
    s = $(".header-menu-wrap");
  e.on("click", function () {
    $(this).hasClass("is-open") ? ($("body").hasClass("sp") && e.removeClass("is-sp-active"), $(this).removeClass("is-open"), i.removeClass("is-active"), s.removeClass("is-active"), $("ul.header-menu-nav li").removeClass("is-active"), $(".header-menu-nav-lang").removeClass("is-active")) : ($("body").hasClass("sp") && e.addClass("is-sp-active"), $(this).addClass("is-open"), i.addClass("is-active"), s.addClass("is-active"), $("ul.header-menu-nav li").addClass("is-active"), $(".header-menu-nav-lang").addClass("is-active"))
  })
}

function initItemSwiper() {
  4 < $(".js-item-swiper-thumbs .swiper-slide").length && $(".js-item-swiper-thumbs .swiper-wrapper").addClass("is-four-or-higher"), $("body").hasClass("pc") || $("body").hasClass("tb"), _effect = "slide", new Swiper(".js-item-swiper", {
    updateOnWindowResize: !0,
    effect: _effect,
    speed: 800,
    navigation: {
      nextEl: ".js-item-swiper-next.swiper-button-next",
      prevEl: ".js-item-swiper-prev.swiper-button-prev"
    },
    thumbs: {
      swiper: {
        el: ".js-item-swiper-thumbs",
        updateOnWindowResize: !0,
        slidesPerView: 8,
        spaceBetween: 20,
        breakpoints: {
          768: {
            spaceBetween: 0
          }
        }
      }
    },
    on: {
      init: function () {
        $(".item-size-num").eq(0).addClass("is-show"), $(".item-size-num-sp").eq(0).addClass("is-show")
      }
    }
  }).on("slideChange", function () {
    this.activeIndex;
    $(".item-size-num").each(function (e, i) {
      $(this).removeClass("is-show")
    }), $(".item-size-num").eq(this.activeIndex).addClass("is-show"), $(".item-size-num-sp").each(function (e, i) {
      $(this).removeClass("is-show")
    }), $(".item-size-num-sp").eq(this.activeIndex).addClass("is-show")
  })
}

function initItemSwiper() {
  4 < $(".js-item-swiper-thumbs .swiper-slide").length && $(".js-item-swiper-thumbs .swiper-wrapper").addClass("is-four-or-higher"), $("body").hasClass("pc") || $("body").hasClass("tb"), _effect = "slide", new Swiper(".js-item-swiper", {
    updateOnWindowResize: !0,
    effect: _effect,
    speed: 800,
    navigation: {
      nextEl: ".js-item-swiper-next.swiper-button-next",
      prevEl: ".js-item-swiper-prev.swiper-button-prev"
    },
    thumbs: {
      swiper: {
        el: ".js-item-swiper-thumbs",
        updateOnWindowResize: !0,
        slidesPerView: 8,
        spaceBetween: 20,
        breakpoints: {
          768: {
            spaceBetween: 0
          }
        }
      }
    },
    on: {
      init: function () {
        $(".item-size-num").eq(0).addClass("is-show"), $(".item-size-num-sp").eq(0).addClass("is-show")
      }
    }
  }).on("slideChange", function () {
    this.activeIndex;
    $(".item-size-num").each(function (e, i) {
      $(this).removeClass("is-show")
    }), $(".item-size-num").eq(this.activeIndex).addClass("is-show"), $(".item-size-num-sp").each(function (e, i) {
      $(this).removeClass("is-show")
    }), $(".item-size-num-sp").eq(this.activeIndex).addClass("is-show")
  })
}

function initAboutSwiper() {
  new Swiper(".js-about-swiper", {
    updateOnWindowResize: !0,
    loop: !0,
    effect: "slide",
    speed: 1800,
    autoplay: {
      delay: 3e3
    },
    navigation: {
      nextEl: ".js-about-swiper-next.swiper-button-next",
      prevEl: ".js-about-swiper-prev.swiper-button-prev"
    },
    on: {
      init: function () {}
    }
  })
}

function setShopList() {
  $(".is-japan .shoplist .pref").each(function () {
    $(this).on("click", function () {
      $(this).toggleClass("is-open"), $(this).next().slideToggle()
    })
  }), $(".region.is-global").each(function () {
    $(this).on("click", function () {
      $(this).toggleClass("is-open"), $(this).next().slideToggle()
    })
  }), $(".is-global .shoplist .country").each(function () {
    $(this).on("click", function () {
      $(this).toggleClass("is-open"), $(this).next().slideToggle()
    })
  }), $(".shop-list-title .global").on("click", function () {
    $(".shoplist-wrap.is-japan").hide(), $(".shoplist-wrap__global.is-global").fadeIn(), $(".shop-list-title .japan").removeClass("is-selected"), $(".shop-list-title .global").addClass("is-selected")
  }), $(".shop-list-title .japan").on("click", function () {
    $(".shoplist-wrap.is-japan").fadeIn(), $(".shoplist-wrap__global.is-global").hide(), $(".shop-list-title .japan").addClass("is-selected"), $(".shop-list-title .global").removeClass("is-selected")
  })
}

function setItemModal() {
  $(".item-detail-wrap .item-detail").on("click", function () {
    var i = $(".item-detail-wrap .item-detail").index(this);
    $(".item-detail-modal").fadeIn(), initItemModalSwiper(i), _position = $(window).scrollTop(), $("body").css({
      position: "fixed",
      top: -1 * _position
    }), e.preventDefault
  }), $(".item-detail-modal-close").on("click", function () {
    $("body").css("position", "relative"), $("body").css("top", ""), $("html, body").prop({
      scrollTop: _position
    }), $(".item-detail-modal").fadeOut()
  })
}

function setItemDetailCursor() {
  $(".item-detail-wrap").hover(function () {
    TweenMax.to(".mouse-follower-detail", .4, {
      width: "40px",
      height: "40px"
    })
  }, function () {
    TweenMax.to(".mouse-follower-detail", .4, {
      width: "0px",
      height: "0px"
    })
  });
  var i = $(".mouse-follower-detail"),
    s = 0,
    t = 0,
    n = 0,
    a = 0;
  TweenMax.to({}, .001, {
    repeat: -1,
    onRepeat: function () {
      n += (s - n) / 10, a += (t - a) / 10, TweenMax.set(i, {
        css: {
          left: n - 20,
          top: a - 20
        }
      })
    }
  }), $(document).on("mousemove", function (e) {
    s = e.pageX, t = e.pageY
  }), $(document).on("scroll", function (i) {
    s = e.pageX, t = e.pageY
  })
}

function setModalCursor() {
  var e = $(".mouse-follower-modal"),
    i = 0,
    s = 0,
    t = 0,
    n = 0;
  modalscrollY = 0, TweenMax.to({}, .001, {
    repeat: -1,
    onRepeat: function () {
      t += (i - t) / 10, n += (s + modalscrollY - n) / 10, TweenMax.set(e, {
        css: {
          left: t - 20,
          top: n - 20
        }
      })
    }
  }), $(document).on("mousemove", function (e) {
    i = e.clientX, s = e.clientY
  }), $(".item-modal-swiper-wrap").scroll(function (e) {
    modalscrollY = $(this).scrollTop()
  })
}

function initItemModalSwiper(e) {
  setModalCursor();
  var i = new Swiper(".js-modal-item-swiper", {
      updateOnWindowResize: !0,
      loop: !0,
      initialSlide: e,
      effect: "fade",
      thumbs: {
        swiper: {
          el: ".js-modal-item-swiper-thumbs",
          updateOnWindowResize: !0,
          initialSlide: e,
          slidesPerView: 8,
          direction: "vertical",
          spaceBetween: 10
        }
      }
    }),
    s = 0;
  $(document).on("mousemove", function (e) {
    s = e.pageX, e.pageY;
    window.innerWidth;
    s < window.innerWidth / 2 ? $(".mouse-follower-modal").removeClass("is-next") : $(".mouse-follower-modal").addClass("is-next"), $(".item-detail-modal-close,.item-modal-swiper-thumbs-wrap").hover(function () {
      $(".mouse-follower-modal").fadeOut()
    }, function () {
      $(".mouse-follower-modal").fadeIn()
    })
  }), $(".js-modal-item-swiper .swiper-slide").on("click", function () {
    window.innerWidth;
    s < window.innerWidth / 2 ? i.slidePrev() : i.slideNext()
  })
}

function initItemDetailSwiper() {
  $(".js-item-detail-swiper-pagenation.swiper-pagination");
  _effect = "slide";
  new Swiper(".js-item-detail-swiper", {
    updateOnWindowResize: !0,
    effect: _effect,
    speed: 400,
    navigation: {
      nextEl: ".js-item-detail-swiper-next.swiper-button-next",
      prevEl: ".js-item-detail-swiper-prev.swiper-button-prev"
    },
    pagination: {
      el: ".js-item-detail-swiper-pagenation.swiper-pagination",
      type: "bullets",
      clickable: !0
    },
    onInit: function () {}
  })
}

function initContactForm() {
  $(".form-element input, .form-element textarea").on("focus", function () {
    $(this).next().length && $(this).next().fadeOut()
  })
}

function initInView() {
  $(".inview").on("inview", function (e, i) {
    i ? $(this).addClass("is-inview") : $(this).removeClass("is-inview")
  }), $(".swiper-fraction").on("inview", function (e, i) {
    i ? $(this).addClass("is-hide") : $(this).removeClass("is-hide")
  })
}

function setFooterMenu() {
  $("nav li.instagram").hover(function () {
    $(".instagram-menu").addClass("is-show")
  }, function () {
    $(".instagram-menu").removeClass("is-show")
  }), $(".instagram-title").hover(function () {
    $(".instagram-sub").addClass("is-active")
  }, function () {
    $(".instagram-sub").removeClass("is-active")
  }), $(".news-nav-head").on("click", function () {
    $(".news-nav").toggleClass("is-open"), $(".news-nav-head span").toggleClass("is-open")
  })
}

function setHeaderScroll() {
  var e = $("header").height(),
    i = 0,
    s = 0;
  $(window).on("scroll", function () {
    i = $(this).scrollTop(), e < i ? ($(".logo-kamemannen").addClass("is-hide"), $(".header-hum").addClass("is-hide"), $(".nav-lang").addClass("is-hide")) : ($(".logo-kamemannen").removeClass("is-hide"), $(".header-hum").removeClass("is-hide"), $(".nav-lang").removeClass("is-hide")), e < i && s < i && ($(".logo-kamemannen").addClass("is-hide"), $(".header-hum").addClass("is-hide"), $(".nav-lang").addClass("is-hide")), (i < e || i < s) && ($(".logo-kamemannen").removeClass("is-hide"), $(".header-hum").removeClass("is-hide"), $(".nav-lang").removeClass("is-hide")), s = i
  })
}
Pace.start(), paceOptions = {
  elements: !1,
  restartOnPushState: !1,
  restartOnRequestAfter: !1
}, Pace.on("done", function () {
  paceOnDone()
}), paceTimeOut(), document.addEventListener("wpcf7mailsent", function (e) {
  console.log("wpcf7 : wpcf7mailsent"), $(".contact-form-wrap").hide(), location = "/thanks/"
}, !1), document.addEventListener("wpcf7invalid", function (e) {}, !1), document.addEventListener("failed", function (e) {}, !1);